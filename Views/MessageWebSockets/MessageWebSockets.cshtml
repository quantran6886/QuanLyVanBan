
@{
    ViewBag.Title = "MessageWebSockets";
}

@section Scripts{
    <script src="~/Scripts/jquery.signalR-2.4.2.min.js"></script>
    <script src="~/signalr/hubs"></script>
    <script src="~/Controllers/ajax/ChatHub.js"></script>
  
}
<div class="col-xl-4">
    <div class="card new-cust-card">
        <div class="card-header">
            <h5>Message</h5>
            <div class="card-header-right">
                <div class="btn-group card-option">
                    <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="feather icon-more-horizontal"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="cust-scroll" style="height:415px;position:relative;">
            <div class="card-body p-b-0" id="lstData">
                <script id="data-template-User" type="x-tmpl-mustache">
                    <div class="align-middle m-b-25">
                            <img src="/wwwRoot/images/user/avatar-1.jpg" alt="user image" class="img-radius align-top m-r-15">
                            <div class="d-inline-block">
                                <a href="javaScript:chatController.ChatRevice({{IdDetailUser}})">
                                    <h6>{{NameUser}}</h6>
                                </a>
                                <p class="m-b-0">Cheers!</p>
                                <span class="status active"></span>
                            </div>
                        </div>
                </script>
            </div>
        </div>
    </div>
</div>


<div class="col-xl-8 col-md-12">
    <div class="card chat-card">
        <div class="card-header">
            <h5>Chat</h5>
            <div class="card-header-right">
                <div class="btn-group card-option">
                    <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="feather icon-more-horizontal"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="card-body" style="position:relative">
            <div id="message-list" class="cust-scroll" style="height:500px;position:relative">
                <!-- Danh sách tin nhắn -->
                <script id="data-template-sendchat" type="x-tmpl-mustache">
                       <div class="row m-b-20 send-chat">
                        <div class="col">
                            <div class="msg">
                                <p class="m-b-0">{{Content}}</p>
                            </div>
                        </div>
                    </div>
                </script>
                <script id="data-template-receivedchat" type="x-tmpl-mustache">
                       <div class="row m-b-20 received-chat">
                        <div class="col">
                            <div class="msg">
                                <p class="m-b-0">{{Content}}</p>
                            </div>
                        </div>
                    </div>
                </script>
            </div>
            <div class="form-group m-t-15">
                <label class="floating-label" for="Project">Nhập tin nhắn</label>
                <input type="text" name="task-insert" class="form-control" id="message-input">
                <div class="form-icon">
                    <button class="btn btn-primary btn-icon" id="send-button">
                        <i class="feather icon-message-circle"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<input type="text" id="txtNguoiNhan" hidden />
<input type="text" id="txtNguoiGui" hidden />
